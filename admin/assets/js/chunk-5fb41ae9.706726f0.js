(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fb41ae9"],{"3c95":function(e,r,t){},"489c":function(e,r,t){"use strict";var a=t("3c95"),l=t.n(a);l.a},6782:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"main"},[t("div",{staticClass:"header clearfix"},[t("div",{staticClass:"title"},[e._v("角色管理")]),t("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.getdetail}},[e._v("查看角色信息")])],1),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"角色账号",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入角色账号"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"角色密码",prop:"password"}},[t("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Email",prop:"email"}},[t("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Tel",prop:"tel"}},[t("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.ruleForm.tel,callback:function(r){e.$set(e.ruleForm,"tel",r)},expression:"ruleForm.tel"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"角色类型",prop:"level"}},[t("el-select",{attrs:{placeholder:"请选择角色类型"},model:{value:e.ruleForm.level,callback:function(r){e.$set(e.ruleForm,"level",r)},expression:"ruleForm.level"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1)],1),t("el-form-item",[t("el-button",{attrs:{disabled:e.enable,type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即创建")]),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},l=[],n=(t("d3b7"),t("e25e"),t("96cf"),t("91b6")),o=(t("ed08"),t("5873")),s=t("ad69"),u={name:"home",data:function(){return{enable:!0,defaultUrl:"",ruleForm:{username:"",password:"",tel:"",email:"",level:""},rules:{username:[{required:!0,message:"请输入管理员账号",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{min:5,max:15,message:"长度在 5 到 15 个字母和数字",trigger:"blur"}],tel:[{required:!0,message:"请选择电话号码",trigger:"change"}],email:[{required:!0,message:"请输入邮箱",trigger:"change"}],level:[{required:!0,message:"请选择用户类型",trigger:"change"}]},options:[{name:"普通管理员",value:1},{name:"超级管理员",value:2}]}},methods:{getdetail:function(){this.$router.push({name:"student_list"})},submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;r.savedetail()}))},isshelvestype:function(e){switch(e){case!0:return 1;case!1:return 0}},savedetail:function(){var e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return e=this,r.next=3,regeneratorRuntime.awrap(s["d"](this.ruleForm).then((function(r){var t=r.data;e.$message.success(t.msg),e.resetForm("ruleForm")})));case 3:case"end":return r.stop()}}),null,this)},resetForm:function(e){this.$refs[e].resetFields()},handleCoverSuccess:function(e,r){console.log(e),console.log(r),this.ruleForm.cover=e.data.url,console.log("上传成功,打印封面地址"),console.log(this.ruleForm.cover)},beforeUploadCover:function(e){var r="image/jpeg"===e.type,t=e.size/1024/1024<2;return r||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),r&&t},handleImageAdded:function(e,r,t,a){var l;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return this,l=new FormData,l.append("file",e),o.next=5,regeneratorRuntime.awrap(n["b"](l).then((function(e){var l=e.data;console.log(l);var n=e.data.url;r.insertEmbed(t,"image",n),a()})));case 5:case"end":return o.stop()}}),null,this)}},created:function(){this.defaultUrl=n["a"],this.enable=2!=parseInt(sessionStorage.getItem("level"))},components:{VueEditor:o["a"]}},i=u,c=(t("489c"),t("2877")),m=Object(c["a"])(i,a,l,!1,null,"537fb798",null);r["default"]=m.exports},ad69:function(e,r,t){"use strict";t.d(r,"c",(function(){return l})),t.d(r,"b",(function(){return n})),t.d(r,"d",(function(){return o})),t.d(r,"e",(function(){return s})),t.d(r,"a",(function(){return u}));var a=t("b775");function l(e){return Object(a["a"])({url:"/role/list",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/role/".concat(e),method:"post",data:{}})}function o(e){return Object(a["a"])({url:"/save/role",method:"post",data:e})}function s(e,r){return Object(a["a"])({url:"/update/role/".concat(r),method:"post",data:e})}function u(e){return Object(a["a"])({url:"/delete/role/".concat(e),method:"post",data:{}})}}}]);
//# sourceMappingURL=chunk-5fb41ae9.706726f0.js.map